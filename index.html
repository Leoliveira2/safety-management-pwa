<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gest√£o de Seguran√ßa do Trabalho</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Sistema de Gest√£o de Seguran√ßa do Trabalho</h1>
            <p>Monitoramento e An√°lise de Ocorr√™ncias de SST</p>
        </div>

        <div class="section-card">
            <div class="section-header">
                üìù Registrar Nova Ocorr√™ncia
            </div>
            <div class="section-content">
                <form id="occurrenceForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="occurrenceId">ID da Ocorr√™ncia</label>
                            <input type="text" id="occurrenceId" readonly>
                        </div>
                        <div class="form-group">
                            <label for="occurrenceDate">Data da Ocorr√™ncia *</label>
                            <input type="date" id="occurrenceDate" required>
                        </div>
                        <div class="form-group">
                            <label for="occurrenceTime">Hor√°rio *</label>
                            <input type="time" id="occurrenceTime" required>
                        </div>
                        <div class="form-group">
                            <label for="occurrenceLocation">Localiza√ß√£o *</label>
                            <input type="text" id="occurrenceLocation" placeholder="Ex: √Årea de Produ√ß√£o, Escrit√≥rio" required>
                        </div>
                        <div class="form-group">
                            <label for="occurrenceCategory">Categoria *</label>
                            <select id="occurrenceCategory" required>
                                <option value="">Selecione uma categoria</option>
                                <option value="Queda">Queda</option>
                                <option value="Choque">Choque</option>
                                <option value="Desvio">Desvio</option>
                                <option value="Corte">Corte</option>
                                <option value="Fratura">Fratura</option>
                                <option value="Outro">Outro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="occurrenceSeverity">Gravidade *</label>
                            <select id="occurrenceSeverity" required>
                                <option value="">Selecione a gravidade</option>
                                <option value="Leve">Leve</option>
                                <option value="Moderada">Moderada</option>
                                <option value="Grave">Grave</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="occurrenceType">Tipo *</label>
                            <select id="occurrenceType" required>
                                <option value="">Selecione o tipo</option>
                                <option value="Acidente">Acidente</option>
                                <option value="Incidente">Incidente</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="occurrenceBodyPart">Parte do Corpo Afetada</label>
                            <select id="occurrenceBodyPart">
                                <option value="">Selecione</option>
                                <option value="M√£o">M√£o</option>
                                <option value="Cabe√ßa">Cabe√ßa</option>
                                <option value="Joelho">Joelho</option>
                                <option value="Bra√ßo">Bra√ßo</option>
                                <option value="Perna">Perna</option>
                                <option value="Tronco">Tronco</option>
                                <option value="Olho">Olho</option>
                                <option value="P√©">P√©</option>
                                <option value="Outra">Outra</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="occurrenceResponsibleManagement">Ger√™ncia Respons√°vel *</label>
                            <input type="text" id="occurrenceResponsibleManagement" placeholder="Ex: Manuten√ß√£o, RH" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="occurrenceHighPotential">
                            <label for="occurrenceHighPotential">‚ö†Ô∏è Alto Potencial (Evento que em circunst√¢ncias diferentes poderia ter resultado em fatalidade)</label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="occurrenceDescription">Descri√ß√£o Detalhada</label>
                        <textarea id="occurrenceDescription" rows="4" placeholder="Descreva detalhadamente o que aconteceu..."></textarea>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Registrar Ocorr√™ncia</button>
                    </div>
                </form>
            </div>
        </div>

        <div class="center-button-container">
            <button class="btn btn-success" onclick="window.occurrenceManager.generateSampleData()">
                üé≤ Gerar 300 Ocorr√™ncias de Exemplo
            </button>
        </div>

        <div class="section-card">
            <div class="section-header">
                üìä Dashboard Geral de Ocorr√™ncias
            </div>
            <div class="section-content">
                <div class="stats-grid" id="statsSummary"></div>

                <div class="filters-container">
                    <div class="filters-title">üîç Filtros de An√°lise</div>
                    <div class="filters-grid">
                        <div class="form-group">
                            <label for="filterYear">Ano</label>
                            <select id="filterYear">
                                <option value="">Todos os anos</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="filterMonth">M√™s</label>
                            <select id="filterMonth">
                                <option value="">Todos os meses</option>
                                <option value="1">Janeiro</option>
                                <option value="2">Fevereiro</option>
                                <option value="3">Mar√ßo</option>
                                <option value="4">Abril</option>
                                <option value="5">Maio</option>
                                <option value="6">Junho</option>
                                <option value="7">Julho</option>
                                <option value="8">Agosto</option>
                                <option value="9">Setembro</option>
                                <option value="10">Outubro</option>
                                <option value="11">Novembro</option>
                                <option value="12">Dezembro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="filterType">Tipo</label>
                            <select id="filterType">
                                <option value="">Todos os tipos</option>
                                <option value="Acidente">Acidente</option>
                                <option value="Incidente">Incidente</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="filterSeverity">Gravidade</label>
                            <select id="filterSeverity">
                                <option value="">Todas as gravidades</option>
                                <option value="Leve">Leve</option>
                                <option value="Moderada">Moderada</option>
                                <option value="Grave">Grave</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="filterCategory">Categoria</label>
                            <select id="filterCategory">
                                <option value="">Todas as categorias</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="filterLocation">Localiza√ß√£o</label>
                            <select id="filterLocation">
                                <option value="">Todas as localiza√ß√µes</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="filterBodyPart">Parte do Corpo</label>
                            <select id="filterBodyPart">
                                <option value="">Todas as partes</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="filterManagement">Ger√™ncia</label>
                            <select id="filterManagement">
                                <option value="">Todas as ger√™ncias</option>
                            </select>
                        </div>
                    </div>
                    <div class="filter-buttons">
                        <button id="applyFilters" class="btn-filter">Aplicar Filtros</button>
                        <button id="clearFilters" class="btn-filter btn-clear">Limpar Filtros</button>
                    </div>
                </div>

                <div class="charts-grid">
                    <div class="chart-container full-width">
                        <div class="chart-title">üìà Evolu√ß√£o Mensal de Ocorr√™ncias</div>
                        <canvas id="occurrencesByMonthChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <div class="chart-title">‚öñÔ∏è Distribui√ß√£o por Tipo</div>
                        <canvas id="occurrencesByTypeChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <div class="chart-title">üìã Ocorr√™ncias por Categoria</div>
                        <canvas id="occurrencesByCategoryChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <div class="chart-title">üå°Ô∏è Distribui√ß√£o por Gravidade</div>
                        <canvas id="occurrencesBySeverityChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <div class="chart-title">üìç Ocorr√™ncias por Localiza√ß√£o</div>
                        <canvas id="occurrencesByLocationChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <div class="chart-title">üë§ Partes do Corpo Afetadas</div>
                        <canvas id="occurrencesByBodyPartChart"></canvas>
                    </div>
                    <div class="chart-container full-width">
                        <div class="chart-title">üìä Gr√°fico de Controle (C-Chart)</div>
                        <canvas id="cControlChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-card high-potential-section">
            <div class="section-header">
                ‚ö†Ô∏è Dashboard de Eventos de Alto Potencial
            </div>
            <div class="section-content">
                <div class="stats-grid" id="highPotentialStats"></div>
                
                <div class="charts-grid">
                    <div class="chart-container full-width">
                        <div class="chart-title">‚ö†Ô∏è Evolu√ß√£o de Eventos de Alto Potencial vs Demais</div>
                        <canvas id="highPotentialTrendChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <div class="chart-title">‚ö†Ô∏è Alto Potencial por Categoria</div>
                        <canvas id="highPotentialByCategoryChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <div class="chart-title">‚ö†Ô∏è Alto Potencial por Localiza√ß√£o</div>
                        <canvas id="highPotentialByLocationChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.10/dayjs.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
